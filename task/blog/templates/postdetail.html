{%extends 'base.html'%}
{%block title%}Readmore{%endblock title%}
{% block body %}

    <style>
        .column {
          float: left;
          width: 50%;
          padding: 10px;
        }
        
        .card-container {
          background-color: #231E39;
          border-radius: 5px;
          box-shadow: 0px 10px 20px -10px rgba(0,0,0,0.75);
          color: #B3B8CD;
          padding-top: 30px;
          width: 350px;
          max-width: 100%;
          text-align: center;
          margin-right: 10px;
        }
        
        .card-container .round {
          border: 1px solid #03BFCB;
          border-radius: 50%;
          padding: 7px;
        }
        
        button.primary {
          background-color: #03BFCB;
          border: 1px solid #03BFCB;
          border-radius: 3px;
          color: #231E39;
          font-family: Montserrat, sans-serif;
          font-weight: 500;
          padding: 10px 25px;
        }
        
        button.primary.ghost {
          background-color: transparent;
          color: #02899C;
        }
        
        .skills {
          background-color: #1F1A36;
          text-align: left;
          padding: 15px;
          margin-top: 30px;
        }
        
        .skills ul {
          list-style-type: none;
          margin: 0;
          padding: 0;
        }
        
        .skills ul li {
          border: 1px solid #2D2747;
          border-radius: 2px;
          display: inline-block;
          font-size: 12px;
          margin: 0 7px 7px 0;
          padding: 7px;
        }

    </style>


<div class="row">
  <div class="column" >
    <div class="post">
      <h1>{{post.title}}</h1>
      <small>By {{post.username}} </small>
      <hr>
      <br>
      <img height="40px" src="{{post.image.url}}">
      <br>
      <br>
      {{post.body | safe}}
    </div>
  </div>
  <div class="column">
    <div class="card-container">
      <img class="round" src="{{post.username.profile.pic.url}}" height="150px" width ="170px" alt="user" />
      <h3>Ricky Park</h3>
      <h6>New York</h6>
      <p>User interface designer and <br/> front-end developer</p>
      <div class="buttons">
        <button class="primary">
          Message
        </button>
        <button class="primary ghost">
          Following
        </button>
      </div>
      <div class="skills">
        <h6>Skills</h6>
        <ul>
          <li>UI / UX</li>
          <li>Front End Development</li>
          <li>HTML</li>
          <li>CSS</li>
          <li>JavaScript</li>
          <li>React</li>
          <li>Node</li>
        </ul>
      </div>
    </div>
  </div>
</div>

<div class="row">
  <div class="column">
    <form action="{% url 'like_post' post.pk %}" method="POST">
      {% csrf_token %}
      {% if user.is_authenticated %}
        {% if liked %}
          <button type="submit", name="post_id" , value="{{post.id}}" , class="btn btn-primary btn-sm">Unlike</button>
        {% else %}
          <button type="submit", name="post_id" , value="{{post.id}}" , class="btn btn-danger btn-sm">like</button> 
        {% endif %}
        {{ total_likes }} likes
      {% else %}
        <a href="#">login</a>
      {% endif %}
    </form>
      <br><hr><br>
      <div class="comment">
          <h2>Comments .....</h2><br>
            {% if user.is_authenticated %}
              {% if not post.comments.all %}
                No Comments Yet ...
                <a href="{% url 'addcomment' post.pk %}">Add one</a>
              {% else %}
                <a href="{% url 'addcomment' post.pk %}">Add comment</a>
              {% endif %}
            {% else %}
              <a href="{% url 'signin' %}">Sign in</a>
            {% endif %}
            <br><br>
            {% for comment in post.comments.all %}
              <strong>
                {{comment.name}}
                {{comment.date_added}}
              </strong>
              <br>
                {{comment.body}}
              <br><br><br>
            {% endfor %}
      </div>  
  </div>
  <div class="column" style="background-color:#ddd;">
    <h2>Column 4</h2>
    <p>Some text..</p>
  </div>
</div>
{% endblock body %}